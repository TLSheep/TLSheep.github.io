var Y=Object.defineProperty;var b=(r,s,a)=>s in r?Y(r,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[s]=a;var g=(r,s,a)=>(b(r,typeof s!="symbol"?s+"":s,a),a);import{_ as k,r as w,d as C,c as E,b as j,o as B}from"./index-0bmGlTAX.js";const T={__name:"Project22",setup(r){const s=w(null),a=w(null);let x="/imgs/sgmm.png",c=null,f=null,u=null;C(async()=>{m();const i=await v(x);f=new R(i),f.draw()});function m(){a.value.height=window.innerHeight*devicePixelRatio,a.value.width=window.innerWidth*devicePixelRatio,c=a.value.getContext("2d")}async function v(i){let e=await _(i);console.log(e);let o=[];c.drawImage(e,0,0,e.width,e.height);const t=c.getImageData(0,0,e.width,e.height);console.log(t);const n=t.data;for(let l=0;l<e.height;l++)for(let h=0;h<e.width;h++){let d=y(h,l,e.width);const D=n[d],I=n[d+1],X=n[d+2];n[d+3],D<200&&I<200&&X<200&&o.push(new M(600+5*h,300+5*l,1.5,"#C2C2C2"))}return o}function _(i){return new Promise((e,o)=>{const t=new Image;t.src=i,t.onload=function(){e(t)},t.onerror=function(n){o(n)}})}function P(i){if(u&&Date.now()-u<100)return;u=Date.now();const e=i.clientX,o=i.clientY;f.points.forEach(t=>{const n=p(t,{x:e,y:o});if(n<100){let l=(e-t.x)/Math.abs(e-t.x),h=(o-t.y)/Math.abs(o-t.y);t.offsetX=l*(50-n*.1),t.offsetY=h*(50-n*.1)}}),f.draw()}function p(i,e){return Math.floor(Math.sqrt(Math.pow(i.x-e.x,2)+Math.pow(i.y-e.y,2)))}function y(i,e,o){return(e*o+i)*4}class R{constructor(e){g(this,"points");this.points=e,console.log(this.points)}draw(){c.clearRect(0,0,a.value.width,a.value.height),this.points.forEach(e=>{e.draw()})}}class M{constructor(e,o,t="2",n="#000"){this.x=e*devicePixelRatio,this.y=o*devicePixelRatio,this.radius=t*devicePixelRatio,this.color=n,this.offsetX=0*devicePixelRatio,this.offsetY=0*devicePixelRatio,this.speedX=0*devicePixelRatio,this.speedY=0*devicePixelRatio,this.lastDrawTime=null}draw(){c.beginPath(),c.arc(this.x+this.offsetX,this.y+this.offsetY,this.radius,0,Math.PI*2),c.fillStyle=this.color,c.fill()}}return(i,e)=>(B(),E("div",{class:"container",ref_key:"containerRef",ref:s},[j("canvas",{class:"canvas",ref_key:"canvasRef",ref:a,onMousemove:P},null,544)],512))}},H=k(T,[["__scopeId","data-v-87cafa1c"]]);export{H as default};
